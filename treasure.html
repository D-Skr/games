<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Treasure Hunt!</title>
</head>
<body>
    <h1>Find the Treasure!</h1>
    <img id = "map" width = 800 height=800 src = "http://nostarch.com/images/treasuremap.png">
    <p id = "distance"></p>

    <script src = "https://code.jquery.com/jquery-2.2.4.js"  integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="
    crossorigin="anonymous"></script>
   
   <script>
        var getRandomNumber = function(size) {
            return Math.floor(Math.random()*size);
        };
        
        var getDistance = function(event, target) {
            var diffX = event.offsetX - target.x;
            var diffY = event.offsetY - target.y;
            return Math.sqrt((diffX*diffX)+(diffY*diffY));
        };

        var getDistanceHint = function(distance) {
            if(distance<20) {
                return "1 Burning!!!";
            }
            else if(distance<40) {
                return "2 Hot!";
            }
            else if(distance<100) {
                return "3 Closer!";
            }
            else if(distance<150) {
                return "4 Close";
            }
            else if(distance<250) {
                return "5 Cold!";
            }
            else if(distance<400) {
                return "6 Freezing!";
            }
            else { 
                return "7 Far away";
            }
        }

        var width = 800;
        var height = 800;
        var clicks = 0;

        var target = {
            x: getRandomNumber (width),
            y: getRandomNumber(height)
        };

        $("#map").click(function(event){
            clicks++;
            
            var distance = getDistance(event,target);

            var distanceHint = getDistanceHint(distance);

            $("#distance").text(distanceHint);

            if (distance <10) {
                alert("You have found the treasure! Total clicks: " + clicks);
            }
        })
    </script>

</body>
</html>